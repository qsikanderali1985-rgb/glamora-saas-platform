Production ready - Code quality improvements and bug fixes